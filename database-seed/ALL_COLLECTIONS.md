# ğŸ“Š All Collections (Tables) in This Project

## MongoDB Database: `mobile-banking`

---

## 1ï¸âƒ£ **`users` Collection**

**Purpose:** Store all user accounts (customers + admin)

**Fields:**
```json
{
  "_id": "ObjectId - Auto-generated by MongoDB",
  "name": "String - Full name",
  "mobile": "String - Mobile number (UNIQUE, used for wallet)",
  "email": "String - Email address (UNIQUE)",
  "password": "String - Password (must be 8 characters)",
  "DOB": "String - Date of Birth (YYYY-MM-DD)",
  "account": "String - Bank account number (UNIQUE)",
  "nid": "String - National ID/Passport (UNIQUE)",
  "balance": "Number - Bank account balance",
  "userRole": "String - USER or ADMIN",
  "image": "String - Profile image URL (optional)",
  "address": "String - Physical address (optional)",
  "createdAt": "DateTime - Account creation date",
  "updatedAt": "DateTime - Last update date"
}
```

**Sample Document:**
```json
{
  "name": "John Doe",
  "mobile": "01700000002",
  "email": "john@gmail.com",
  "password": "john1234",
  "DOB": "1995-05-15",
  "account": "ACC001",
  "nid": "1234567890123",
  "balance": 50000,
  "userRole": "USER",
  "address": "Dhaka, Bangladesh"
}
```

**Indexes:**
- `mobile` (UNIQUE)
- `email` (UNIQUE)
- `account` (UNIQUE)
- `nid` (UNIQUE)

---

## 2ï¸âƒ£ **`transactions` Collection**

**Purpose:** Store all banking transaction history

**Fields:**
```json
{
  "_id": "ObjectId - Auto-generated by MongoDB",
  "receiver": "String - Receiver account/mobile (INDEXED)",
  "sender": "String - Sender account/mobile (INDEXED)",
  "date": "String - Transaction date",
  "amount": "Number - Transaction amount",
  "type": "String - Transaction type",
  "ref": "String - Reference ID (UNIQUE)",
  "status": "String - PENDING/COMPLETED/FAILED",
  "description": "String - Transaction description (optional)",
  "transactionDate": "DateTime - Timestamp"
}
```

**Transaction Types:**
- `"bank to bank"` - BB transfer
- `"bank to wallet"` - BW transfer
- `"wallet to wallet"` - WW transfer
- `"wallet to bank"` - WB transfer
- `"add to wallet"` - Add money
- `"utility"` - Gas/Electricity bill
- `"recharge"` - Mobile recharge

**Sample Document:**
```json
{
  "receiver": "ACC002",
  "sender": "ACC001",
  "date": "2026-01-18",
  "amount": 5000,
  "type": "bank to bank",
  "ref": "TXN-ABC1234",
  "status": "COMPLETED",
  "transactionDate": "2026-01-18T12:00:00"
}
```

**Indexes:**
- `receiver` (INDEXED)
- `sender` (INDEXED)
- `ref` (UNIQUE)

---

## 3ï¸âƒ£ **`branches` Collection**

**Purpose:** Store bank branch and ATM locations

**Fields:**
```json
{
  "_id": "ObjectId - Auto-generated by MongoDB",
  "name": "String - Branch name (INDEXED)",
  "type": "String - Main/Sub-branch/ATM",
  "location": "String - Address (INDEXED)",
  "branchCode": "String - Branch code (optional)",
  "ifscCode": "String - IFSC code (optional)",
  "swiftCode": "String - SWIFT code (optional)",
  "city": "String - City name",
  "state": "String - State name (optional)",
  "country": "String - Country (default: Bangladesh)",
  "zipCode": "String - Postal code (optional)",
  "phoneNumber": "String - Branch phone",
  "email": "String - Branch email",
  "managerName": "String - Manager name (optional)",
  "openingHours": "String - Opening hours",
  "closingHours": "String - Closing hours (optional)",
  "isActive": "Boolean - Is operational",
  "latitude": "Number - GPS latitude (optional)",
  "longitude": "Number - GPS longitude (optional)",
  "createdAt": "DateTime - Created date",
  "updatedAt": "DateTime - Updated date"
}
```

**Sample Document:**
```json
{
  "name": "Motijheel Main Branch",
  "type": "Main",
  "location": "23/A Motijheel C/A, Dhaka-1000",
  "branchCode": "BR001",
  "city": "Dhaka",
  "phoneNumber": "+880-2-9555444",
  "email": "motijheel@bank.com",
  "managerName": "Mr. Kamal Hossain",
  "openingHours": "9:00 AM - 5:00 PM",
  "isActive": true
}
```

**Indexes:**
- `name` (INDEXED)
- `location` (INDEXED)

**Branch Types:**
- `"Main"` - Main branch
- `"Sub-branch"` - Sub branch
- `"ATM"` - ATM location

---

## 4ï¸âƒ£ **`utility` Collection** âš ï¸ (OPTIONAL)

**Purpose:** Store utility customer accounts for bill payments

**Fields:**
```json
{
  "_id": "ObjectId - Auto-generated by MongoDB",
  "account": "String - Utility account number",
  "provider": "String - Service provider name",
  "type": "String - prepaid/postpaid",
  "balance": "Number - Outstanding balance",
  "customerName": "String - Customer name (optional)",
  "address": "String - Service address (optional)"
}
```

**Supported Providers:**

**Gas:**
- `"titas"` - Titas Gas Distribution

**Electricity:**
- `"DESCO"` - Dhaka Electric Supply Company
- `"DPDC"` - Dhaka Power Distribution Company

**Mobile Operators:**
- `"Grameenphone"`
- `"Robi"`
- `"Banglalink"`
- `"Airtel"`
- `"Teletalk"`

**Sample Document:**
```json
{
  "account": "TITAS001",
  "provider": "titas",
  "type": "prepaid",
  "balance": 0,
  "customerName": "John Doe",
  "address": "Dhaka, Bangladesh"
}
```

---

## ğŸ“Š Summary Table

| Collection | Documents | Status | Auto-Created? |
|------------|-----------|--------|---------------|
| **users** | 5+ | âœ… REQUIRED | âŒ Must pre-populate |
| **transactions** | 0+ | âœ… REQUIRED | âœ… Auto-created on transfers |
| **branches** | 8+ | âœ… REQUIRED | âŒ Must pre-populate |
| **utility** | 6+ | âš ï¸ OPTIONAL | âŒ Must pre-populate |

---

## ğŸ¯ Collection Relationships

```
users (1) â”€â”€â”€â”€â”€â”€> (Many) transactions
  â”‚                       â”‚
  â”‚                       â”œâ”€ sender (account/mobile)
  â”‚                       â””â”€ receiver (account/mobile)
  â”‚
  â””â”€ userRole: "USER" or "ADMIN"

branches (No relationships)
  â””â”€ Standalone location data

utility (Referenced by transactions)
  â””â”€ Validated during bill payments
```

---

## ğŸ“¦ Total Collections in Project: **4**

1. âœ… **users** (Critical - Must have data)
2. âœ… **transactions** (Critical - Auto-populated)  
3. âœ… **branches** (Critical - Must have data)
4. âš ï¸ **utility** (Optional - For bill payments)

---

## ğŸ’¾ Minimum Required Setup

**Before running the app, you MUST import:**

1. âœ… **users.json** â†’ `users` collection (5 documents)
2. âœ… **branches.json** â†’ `branches` collection (8 documents)
3. âš ï¸ **utility.json** â†’ `utility` collection (6 documents) - Optional

**Auto-created during usage:**
- `transactions` collection (starts empty)

---

**All sample data files are in:** `D:\SPRINGBOOT_TRY\database-seed\`

ğŸ‰ **That's all 4 collections in your project!**
